import{p as _,o as Q,i as V,s as j}from"./props.DjLZaOmW.js";import{f as P,a as b,p as W,b as X,s as Y,m as Z,g as e,r as s,c as l,d as f,u as d,t as S,e as B,h as m}from"./render.ioAfWnFJ.js";import{e as U,i as I}from"./each.DlZunwEL.js";import{I as C}from"./zh_TW.kAJhy6JH.js";import{i as D}from"./translation.DKAD4oy7.js";import{g as E}from"./url-utils.LsD77Mfy.js";var $=P(`<a class="group btn-plain !block h-10 w-full rounded-lg hover:text-[initial]"><div class="flex flex-row justify-start items-center h-full"><div class="w-[15%] md:w-[10%] transition text-sm text-right text-50"></div> <div class="w-[15%] md:w-[10%] relative dash-line h-full flex items-center"><div class="transition-all mx-auto w-1 h-1 rounded group-hover:h-5
                       bg-[oklch(0.5_0.05_var(--hue))] group-hover:bg-[var(--primary)]
                       outline outline-4 z-50
                       outline-[var(--card-bg)]
                       group-hover:outline-[var(--btn-plain-bg-hover)]
                       group-active:outline-[var(--btn-plain-bg-active)]"></div></div> <div class="w-[70%] md:max-w-[65%] md:w-[65%] text-left font-bold
                     group-hover:translate-x-1 transition-all group-hover:text-[var(--primary)]
                     text-75 pr-8 whitespace-nowrap overflow-ellipsis overflow-hidden"> </div> <div class="hidden md:block md:w-[15%] text-left text-sm transition
                     whitespace-nowrap overflow-ellipsis overflow-hidden text-30"> </div></div></a>`),tt=P(`<div><div class="flex flex-row w-full items-center h-[3.75rem]"><div class="w-[15%] md:w-[10%] transition text-2xl font-bold text-right text-75"> </div> <div class="w-[15%] md:w-[10%]"><div class="h-3 w-3 bg-none rounded-full outline outline-[var(--primary)] mx-auto
                  -outline-offset-[2px] z-50 outline-3"></div></div> <div class="w-[70%] md:w-[80%] transition text-left text-50"> </div></div> <!></div>`),et=P('<div class="card-base px-8 py-6"></div>');function dt(K,g){X(g,!1);let h=_(g,"tags",12),x=_(g,"categories",12),L=_(g,"sortedPosts",24,()=>[]);const v=new URLSearchParams(window.location.search);h(v.has("tag")?v.getAll("tag"):[]),x(v.has("category")?v.getAll("category"):[]);const M=v.get("uncategorized");let O=["量子化学","物理化学","計算化学","量子コンピュータ"],A=Z([]);function R(a){return a.map(r=>`#${r}`).join(" ")}Q(async()=>{let a=L();h().length>0&&(a=a.filter(t=>Array.isArray(t.data.tags)&&t.data.tags.some(i=>h().includes(i)))),x().length>0&&(a=a.filter(t=>t.data.category&&x().includes(t.data.category))),M&&(a=a.filter(t=>!t.data.category)),a=a.filter(t=>t.data.category&&O.includes(t.data.category));const r=a.reduce((t,i)=>{const u=i.data.category||"Uncategorized";return t[u]||(t[u]=[]),t[u].push(i),t},{}),n=Object.keys(r).map(t=>({category:t,posts:r[t]}));n.sort((t,i)=>t.category.localeCompare(i.category)),Y(A,n)}),V();var w=et();U(w,5,()=>e(A),I,(a,r)=>{var n=tt(),t=l(n),i=l(t),u=l(i,!0);s(i);var k=f(i,4),T=l(k);s(k),s(t);var q=f(t,2);U(q,1,()=>(e(r),d(()=>e(r).posts)),I,(p,o)=>{var c=$(),z=l(c),y=f(l(z),4),G=l(y,!0);s(y);var F=f(y,2),H=l(F,!0);s(F),s(z),s(c),S((J,N)=>{j(c,"href",J),j(c,"aria-label",(e(o),d(()=>e(o).data.title))),m(G,(e(o),d(()=>e(o).data.title))),m(H,N)},[()=>(B(E),e(o),d(()=>E(e(o).slug))),()=>(e(o),d(()=>R(e(o).data.tags)))]),b(p,c)}),s(n),S(p=>{m(u,(e(r),d(()=>e(r).category))),m(T,`${e(r),d(()=>e(r).posts.length)??""} ${p??""}`)},[()=>(B(D),e(r),B(C),d(()=>D(e(r).posts.length===1?C.postCount:C.postsCount)))]),b(a,n)}),s(w),b(K,w),W()}export{dt as default};
